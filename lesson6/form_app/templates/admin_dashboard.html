<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Панель администратора</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet" crossorigin="anonymous" />
    <link rel="stylesheet" href="../static/style.css">
</head>
<body class="d-flex flex-column min-vh-100">
    <header class="bg-custom position-relative py-3">
        <div class="container position-relative">
          <h1 class="text-white py-3 m-0 header-title">Панель администратора</h1>
          <a href="/admin/logout" class="btn btn-secondary btn-lg btn-logout-custom position-absolute top-50 end-0 translate-middle-y">Выйти</a>
        </div>
    </header>

    <main class="container-xl my-4">
        <div class="row justify-content-center">
            <div class="col-xl-12 col-lg-11 col-md-12"> 
                <section id="user_forms">
                    <h2 class="mb-4">Список форм</h2>
                    <div class="table-responsive">
                        <table class="table table-striped table-bordered table-fixed-layout">
                            <thead>
                                <tr>
                                    <th>ФИО</th>
                                    <th>Телефон</th>
                                    <th>E-mail</th>
                                    <th>Дата рождения</th>
                                    <th>Пол</th>
                                    <th>Биография</th>
                                    <th>Любимый язык программирования</th>
                                    <th>Действия</th>
                                </tr>
                            </thead>
                            <tbody>
                                {% for user_form in user_forms %}
                                <tr>
                                    <td>{{ user_form.full_name }}</td>
                                    <td>{{ user_form.phone_number }}</td>
                                    <td>{{ user_form.email }}</td>
                                    <td>{{ user_form.birth_date }}</td>
                                    <td>{{ user_form.gender }}</td>
                                    <td>
                                        <div class="scrollable-cell-content">{{ user_form.bio }}</div>
                                    </td>
                                    <td>
                                        <div class="scrollable-cell-content">{{ user_form.prog_languages }}</div>
                                    </td>
                                    <td>
                                        <a href="/admin/edit/{{ user_form.form_id }}" class="btn btn-primary btn-sm mb-1 d-block">Редактировать</a>
                                        <a href="/admin/delete/{{ user_form.form_id }}" class="btn btn-danger btn-sm d-block">Удалить</a>
                                    </td>
                                </tr>
                                {% else %}
                                <tr>
                                    <td colspan="8" class="text-center">Нет данных для отображения.</td>
                                </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                    </div>
                </section>

                <section id="stats" class="mt-5">
                    <h2 class="mb-4">Статистика по языкам программирования</h2>
                    <div class="table-responsive">
                        <table class="table table-striped table-bordered table-fixed-layout stats-table"> <!-- Добавил класс для возможной отдельной стилизации -->
                            <thead>
                                <tr>
                                    <th>Язык программирования</th>
                                    <th>Количество</th>
                                </tr>
                            </thead>
                            <tbody>
                                {% for stat in stats %}
                                <tr>
                                    <td>{{ stat.name }}</td>
                                    <td>{{ stat.count }}</td>
                                </tr>
                                {% else %}
                                <tr>
                                    <td colspan="2" class="text-center">Нет данных статистики.</td>
                                </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                    </div>
                </section>
            </div> 
        </div> 
    </main>

    <footer class="bg-custom mt-auto">
        <div class="container-xl">
            <p class="m-0 text-white py-3 text-center">© Уманец Софья</p>
        </div>
    </footer>

</body>
</html>